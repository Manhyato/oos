<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<nav class="navbar">
    <div class="navbar-content">
        <a href="/" class="navbar-brand">üçï –ü–∏—Ü—Ü–µ—Ä–∏—è</a>
        <div class="navbar-links">
            <a href="/">–ú–µ–Ω—é</a>
            <a href="/orders/track">–û—Ç—Å–ª–µ–¥–∏—Ç—å –∑–∞–∫–∞–∑</a>
            <a href="/admin/orders">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a>
        </div>
    </div>
</nav>

<div class="container">
    <div class="card">
        <h1 class="card-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏</h1>

        <div th:if="${error}" class="alert alert-error" th:text="${error}"></div>

        <div th:if="${waitingOrders != null && !waitingOrders.isEmpty()}" class="mb-3">
            <h3>–ó–∞–∫–∞–∑—ã, –æ–∂–∏–¥–∞—é—â–∏–µ –∫—É—Ä—å–µ—Ä–∞</h3>
            <div class="alert alert-info">
                –ï—Å—Ç—å <strong th:text="${waitingOrders.size()}"></strong> –æ–ø–ª–∞—á–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –±–µ–∑ –∫—É—Ä—å–µ—Ä–∞
                <a href="/admin/delivery" class="btn btn-primary" style="margin-left: 1rem;">–ù–∞–∑–Ω–∞—á–∏—Ç—å –∫—É—Ä—å–µ—Ä–æ–≤</a>
            </div>
        </div>

        <h3>–í—Å–µ –∑–∞–∫–∞–∑—ã</h3>
        <table class="table">
            <thead>
            <tr>
                <th>ID</th>
                <th>–ö–ª–∏–µ–Ω—Ç</th>
                <th>–ê–¥—Ä–µ—Å</th>
                <th>–°—É–º–º–∞</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–û–ø–ª–∞—á–µ–Ω</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="order : ${orders}">
                <td th:text="${order.id}"></td>
                <td th:text="${order.client.fullName}"></td>
                <td th:text="${order.address}"></td>
                <td th:text="${#numbers.formatDecimal(order.totalAmount, 0, 'COMMA', 2, 'POINT')} + ' ‚ÇΩ'"></td>

                <!-- –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤—ã–≤–æ–¥ —Å—Ç–∞—Ç—É—Å–∞ -->
                <td>
                    <span th:text="${order.status != null ? order.status : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}"></span>
                </td>

                <td>
                    <span th:if="${order.paid}" class="status-badge status-paid">–î–∞</span>
                    <span th:unless="${order.paid}" class="status-badge status-new">–ù–µ—Ç</span>
                </td>

                <td>
                    <a th:href="@{'/admin/orders/' + ${order.id}}" class="btn btn-secondary">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>—ã

<script th:src="@{/js/main.js}"></script>
</body>
</html>


