<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${title}">–ó–∞–∫–∞–∑</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<nav class="navbar">
    <div class="navbar-content">
        <a href="/" class="navbar-brand">üçï –ü–∏—Ü—Ü–µ—Ä–∏—è</a>
        <div class="navbar-links">
            <a href="/">–ú–µ–Ω—é</a>
            <a href="/orders/track">–û—Ç—Å–ª–µ–¥–∏—Ç—å –∑–∞–∫–∞–∑</a>
            <a href="/admin/orders">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a>
        </div>
    </div>
</nav>

<div class="container">
    <div class="card">
        <h1 class="card-title" th:text="${title}">–ó–∞–∫–∞–∑</h1>

        <div class="mb-3">
            <p><strong>–ö–ª–∏–µ–Ω—Ç:</strong> <span th:text="${order.client != null ? order.client.fullName : '‚Äî'}"></span></p>
            <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> <span th:text="${order.client != null ? order.client.phone : '‚Äî'}"></span></p>
            <p><strong>–ê–¥—Ä–µ—Å:</strong> <span th:text="${order.address != null ? order.address : '‚Äî'}"></span></p>
            <p><strong>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:</strong>
                <span th:if="${order.createdAt != null}"
                      th:text="${#temporals.format(order.createdAt, 'dd.MM.yyyy HH:mm')}"></span>
                <span th:unless="${order.createdAt != null}">‚Äî</span>
            </p>
            <p><strong>–°—Ç–∞—Ç—É—Å:</strong>
                <span th:text="${order.status != null ? order.status : '‚Äî'}"
                      th:class="${statusClass}"></span>
            </p>
            <p><strong>–û–ø–ª–∞—á–µ–Ω:</strong>
                <span th:if="${order.paid}">–î–∞</span>
                <span th:unless="${order.paid}">–ù–µ—Ç</span>
            </p>
            <p th:if="${order.courier != null}">
                <strong>–ö—É—Ä—å–µ—Ä:</strong>
                <span th:text="${order.courier.name}"></span>
                (<span th:text="${order.courier.phone}"></span>)
            </p>
        </div>

        <h3>–°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞:</h3>
        <table class="table">
            <thead>
            <tr>
                <th>–ü–∏—Ü—Ü–∞</th>
                <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</th>
                <th>–¶–µ–Ω–∞</th>
                <th>–°—É–º–º–∞</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="item : ${order.items}">
                <td th:text="${item.pizza != null ? item.pizza.name : '‚Äî'}"></td>
                <td th:text="${item.quantity}"></td>
                <td th:text="${item.pizza != null ? item.pizza.price : 0} + ' ‚ÇΩ'"></td>
                <td th:text="${item.price} + ' ‚ÇΩ'"></td>
            </tr>
            </tbody>
            <tfoot>
            <tr>
                <td colspan="3"><strong>–ò—Ç–æ–≥–æ:</strong></td>
                <td><strong th:text="${order.totalAmount} + ' ‚ÇΩ'"></strong></td>
            </tr>
            </tfoot>
        </table>

        <div th:if="${order.paid && order.courier == null}" class="mt-3">
            <a th:href="@{'/admin/delivery'}" class="btn btn-primary">–ù–∞–∑–Ω–∞—á–∏—Ç—å –∫—É—Ä—å–µ—Ä–∞</a>
        </div>
    </div>
</div>

<script th:src="@{/js/main.js}"></script>
</body>
</html>




