<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${title}">–ß–µ–∫</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<nav class="navbar">
    <div class="navbar-content">
        <a href="/" class="navbar-brand">üçï –ü–∏—Ü—Ü–µ—Ä–∏—è</a>
        <div class="navbar-links">
            <a href="/">–ú–µ–Ω—é</a>
            <a href="/orders/track">–û—Ç—Å–ª–µ–¥–∏—Ç—å –∑–∞–∫–∞–∑</a>
            <a href="/admin/orders">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a>
        </div>
    </div>
</nav>

<div class="container">
    <div class="card">
        <h1 class="card-title" th:text="${title}">–ß–µ–∫</h1>

        <div th:if="${payment == null}" class="alert alert-error">
            –û–ø–ª–∞—Ç–∞ –ø–æ –∑–∞–∫–∞–∑—É –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–ª–∏ –æ–ø–ª–∞—Ç–∏—Ç—å –∑–∞–∫–∞–∑.
        </div>

        <div th:if="${payment != null}">
            <p><strong>–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞:</strong> <span th:text="${order.id}"></span></p>
            <p><strong>–ö–ª–∏–µ–Ω—Ç:</strong>
                <span th:text="${order.client != null ? order.client.fullName : '‚Äî'}"></span>
                (<span th:text="${order.client != null ? order.client.phone : '‚Äî'}"></span>)
            </p>
            <p><strong>–ê–¥—Ä–µ—Å:</strong> <span th:text="${order.address != null ? order.address : '‚Äî'}"></span></p>
            <p><strong>–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞:</strong> <span th:text="${order.status}"></span></p>
            <p><strong>–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:</strong> <span th:text="${payment.method}"></span></p>
            <p><strong>–°—É–º–º–∞:</strong> <span th:text="${#numbers.formatDecimal(payment.amount, 0, 'COMMA', 2, 'POINT')} + ' ‚ÇΩ'"></span></p>
            <p><strong>–î–∞—Ç–∞ –æ–ø–ª–∞—Ç—ã:</strong>
                <span th:text="${payment.paidAt != null ? #temporals.format(payment.paidAt, 'dd.MM.yyyy HH:mm') : '‚Äî'}"></span>
            </p>
            <p><strong>ID —á–µ–∫–∞:</strong> <span th:text="${payment.id}"></span></p>
        </div>

        <div class="mt-3">
            <a th:href="@{'/orders/' + ${order.id}}" class="btn btn-secondary">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∑–∞–∫–∞–∑—É</a>
            <button onclick="window.print()" class="btn btn-primary">–ü–µ—á–∞—Ç—å —á–µ–∫–∞</button>
        </div>
    </div>
</div>

<script th:src="@{/js/main.js}"></script>
</body>
</html>

